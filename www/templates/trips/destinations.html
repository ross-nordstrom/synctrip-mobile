<ion-view title="Trip Destinations">
<ion-content class="padding">
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>
   <div class="row padding">
     <div class="col" ng-repeat="(idx,item) in overviewItems">
      <a class="item item-icon-left">
         <i class="icon {{item.icon}}"></i>
         <h2>{{item.title}}</h2>
         <p>{{(trip[item.key] || '') | prettyUnits:item.type}}</p>
      </a>
      </div>
   </div>
   <ion-list>
      <ion-item ng-repeat="destination in trip.destinations">
         <div class="row">
            <div class="col col-67">
               <h2>{{destination.name}}</h2>
               <p>{{destination.details.formatted_address}}</p>
            </div>
            <div class="col" ng-show="destination.distance">
               <h2><i class="icon ion-model-s"></i></h2>
               <p>{{destination.distance | distanceString}}</p>
            </div>
            <div class="col" ng-show="destination.duration">
               <h2><i class="icon ion-clock"></i></h2>
               <p>{{destination.duration | durationString:true}}</p>
            </div>
         </div>
      </ion-item>
   </ion-list>
   <form ng-submit="addDestination($scope.newDestination, $scope.newDestinationDetails)">
      <div class="item item-input padding">
         <!-- <label class="item-input-wrapper"> -->
         <input type="text" ng-autocomplete ng-model="newDestination" options="autocompleteOptions" details="newDestinationDetails" placeholder="Add a location"/>
         <!-- </label> -->
         <button class="button button-balanced" ng-show="!!newDestination && !!newDestinationDetails">
            <i class="icon ion-plus"></i>
         </button>
      </div>
   </form>
   <p>Place: {{newDestination}}</p>
   <p style="max-height:100px; overflow-y:scroll;">Details: {{newDestinationDetails}}</p>
   <p>Directions <button ng-click="calculateRoute()"><i class="icon ion-refresh"></i></button> {{trip.directions}}</p>
</ion-content>
</ion-view>
